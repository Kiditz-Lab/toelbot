import{u as G}from"./useApi-Bby6fr-m.js";import{y as at,N as y,P as M,c as N,o as D,aH as st,w as g,a as h,a5 as P,a7 as q,e as C,aa as rt,a0 as ot,$ as it,Q as ut,U as ft,Y as dt,ab as ct,aN as lt,f as k,a1 as mt,d as R,k as pt,t as E,V as Y,q as gt,u as ht,s as vt,b as Z,b4 as wt,J as Ct,B as x,E as Dt}from"./index-B-4Jq8Ft.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{h as yt,r as St,s as bt}from"./mdi-CCnSVLV7.js";import{c as Nt,t as $,d as J,f as z}from"./en-US-g4IfPCw7.js";import{f as _t}from"./format-Bw9bORZr.js";function Tt(n,e){const t=()=>Nt(e==null?void 0:e.in,NaN),s=kt(n);let r;if(s.date){const o=At(s.date,2);r=Ft(o.restDateString,o.year)}if(!r||isNaN(+r))return t();const i=+r;let l=0,f;if(s.time&&(l=Bt(s.time),isNaN(l)))return t();if(s.timezone){if(f=Lt(s.timezone),isNaN(f))return t()}else{const o=new Date(i+l),d=$(0,e==null?void 0:e.in);return d.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),d.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),d}return $(i+l+f,e==null?void 0:e.in)}const F={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Vt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,It=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ot=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kt(n){const e={},t=n.split(F.dateTimeDelimiter);let a;if(t.length>2)return e;if(/:/.test(t[0])?a=t[0]:(e.date=t[0],a=t[1],F.timeZoneDelimiter.test(e.date)&&(e.date=n.split(F.timeZoneDelimiter)[0],a=n.substr(e.date.length,n.length))),a){const s=F.timezone.exec(a);s?(e.time=a.replace(s[1],""),e.timezone=s[1]):e.time=a}return e}function At(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=n.match(t);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,r=a[2]?parseInt(a[2]):null;return{year:r===null?s:r*100,restDateString:n.slice((a[1]||a[2]).length)}}function Ft(n,e){if(e===null)return new Date(NaN);const t=n.match(Vt);if(!t)return new Date(NaN);const a=!!t[4],s=V(t[1]),r=V(t[2])-1,i=V(t[3]),l=V(t[4]),f=V(t[5])-1;if(a)return Pt(e,l,f)?Rt(e,l,f):new Date(NaN);{const o=new Date(0);return!Ht(e,r,i)||!Ut(e,s)?new Date(NaN):(o.setUTCFullYear(e,r,Math.max(s,i)),o)}}function V(n){return n?parseInt(n):1}function Bt(n){const e=n.match(It);if(!e)return NaN;const t=H(e[1]),a=H(e[2]),s=H(e[3]);return Mt(t,a,s)?t*J+a*z+s*1e3:NaN}function H(n){return n&&parseFloat(n.replace(",","."))||0}function Lt(n){if(n==="Z")return 0;const e=n.match(Ot);if(!e)return 0;const t=e[1]==="+"?-1:1,a=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Et(a,s)?t*(a*J+s*z):NaN}function Rt(n,e,t){const a=new Date(0);a.setUTCFullYear(n,0,4);const s=a.getUTCDay()||7,r=(e-1)*7+t+1-s;return a.setUTCDate(a.getUTCDate()+r),a}const xt=[31,null,31,30,31,30,31,31,30,31,30,31];function X(n){return n%400===0||n%4===0&&n%100!==0}function Ht(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(xt[e]||(X(n)?29:28))}function Ut(n,e){return e>=1&&e<=(X(n)?366:365)}function Pt(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Mt(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Et(n,e){return e>=0&&e<=59}function O(n,e,t){return parseInt(n.substr(e,t),16)}function Q(n){return n|=0,n<0?"00":n<16?"0"+n.toString(16):n<256?n.toString(16):"ff"}function U(n,e,t){return t=t<0?t+6:t>6?t-6:t,Q(255*(t<1?n+(e-n)*t:t<3?e:t<4?n+(e-n)*(4-t):n))}function Yt(n){if(/^#[0-9a-f]{3,8}$/i.test(n)){let e;const t=n.length;if(t<6){const a=n[1],s=n[2],r=n[3],i=n[4]||"";e="#"+a+a+s+s+r+r+i+i}return(t==7||t>8)&&(e=n),e}}function Zt(n,e,t){let a;if(e==0){const s=Q(t*255);a=s+s+s}else{const s=t<=.5?t*(e+1):t+e-t*e,r=t*2-s;a=U(r,s,n*6+2)+U(r,s,n*6)+U(r,s,n*6-2)}return"#"+a}function I(n,e,t){const a=[.55,.5,.5,.46,.6,.55,.55],s=a[n*6+.5|0];return t=t<.5?t*s*2:s+(t-.5)*(1-s)*2,Zt(n,e,t)}const $t=typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{},j={V:"jdenticon_config",n:"config"};var jt={};function Wt(n,e){const t=jt[j.n]||$t[j.V]||{},a=t.lightness||{},s=t.saturation||{},r="color"in s?s.color:s,i=s.grayscale,l=t.backColor,f=t.padding;function o(u,c){let m=a[u];return m&&m.length>1||(m=c),function(p){return p=m[0]+p*(m[1]-m[0]),p<0?0:p>1?1:p}}function d(u){const c=t.hues;let m;return c&&c.length>0&&(m=c[0|.999*u*c.length]),typeof m=="number"?(m/360%1+1)%1:u}return{W:d,o:typeof r=="number"?r:.5,D:typeof i=="number"?i:0,p:o("color",[.4,.8]),F:o("grayscale",[.3,.9]),G:Yt(l),X:typeof f=="number"?f:e}}class B{constructor(e,t){this.x=e,this.y=t}}class tt{constructor(e,t,a,s){this.q=e,this.t=t,this.H=a,this.Y=s}I(e,t,a,s){const r=this.q+this.H,i=this.t+this.H,l=this.Y;return l===1?new B(r-t-(s||0),this.t+e):l===2?new B(r-e-(a||0),i-t-(s||0)):l===3?new B(this.q+t,i-e-(a||0)):new B(this.q+e,this.t+t)}}const Gt=new tt(0,0,0,0);class qt{constructor(e){this.J=e,this.u=Gt}g(e,t){const a=t?-2:2,s=[];for(let r=t?e.length-2:0;r<e.length&&r>=0;r+=a)s.push(this.u.I(e[r],e[r+1]));this.J.g(s)}h(e,t,a,s){const r=this.u.I(e,t,a,a);this.J.h(r,a,s)}i(e,t,a,s,r){this.g([e,t,e+a,t,e+a,t+s,e,t+s],r)}j(e,t,a,s,r,i){const l=[e+a,t,e+a,t+s,e,t+s,e,t];l.splice((r||0)%4*2,2),this.g(l,i)}K(e,t,a,s,r){this.g([e+a/2,t,e+a,t+s/2,e+a/2,t+s,e,t+s/2],r)}}function Kt(n,e,t,a){n=n%14;let s,r,i,l,f,o;n?n==1?(i=0|t*.5,l=0|t*.8,e.j(t-i,0,i,l,2)):n==2?(i=0|t/3,e.i(i,i,t-i,t-i)):n==3?(f=t*.1,o=t<6?1:t<8?2:0|t*.25,f=f>1?0|f:f>.5?1:f,e.i(o,o,t-f-o,t-f-o)):n==4?(r=0|t*.15,i=0|t*.5,e.h(t-i-r,t-i-r,i)):n==5?(f=t*.1,o=f*4,o>3&&(o=0|o),e.i(0,0,t,t),e.g([o,o,t-f,o,o+(t-o-f)/2,t-f],!0)):n==6?e.g([0,0,t,0,t,t*.7,t*.4,t*.4,t*.7,t,0,t]):n==7?e.j(t/2,t/2,t/2,t/2,3):n==8?(e.i(0,0,t,t/2),e.i(0,t/2,t/2,t/2),e.j(t/2,t/2,t/2,t/2,1)):n==9?(f=t*.14,o=t<4?1:t<6?2:0|t*.35,f=t<8?f:0|f,e.i(0,0,t,t),e.i(o,o,t-o-f,t-o-f,!0)):n==10?(f=t*.12,o=f*3,e.i(0,0,t,t),e.h(o,o,t-f-o,!0)):n==11?e.j(t/2,t/2,t/2,t/2,3):n==12?(r=t*.25,e.i(0,0,t,t),e.K(r,r,t-r,t-r,!0)):!a&&(r=t*.4,i=t*1.2,e.h(r,r,i)):(s=t*.42,e.g([0,0,t,0,t,t-s*2,t-s,t,0,t]))}function W(n,e,t){n=n%4;let a;n?n==1?e.j(0,t/2,t,t/2,0):n==2?e.K(0,0,t,t):(a=t/6,e.h(a,a,t-2*a)):e.j(0,0,t,t,0)}function Jt(n,e){return n=e.W(n),[I(n,e.D,e.F(0)),I(n,e.o,e.p(.5)),I(n,e.D,e.F(1)),I(n,e.o,e.p(1)),I(n,e.o,e.p(0))]}function zt(n,e,t){const a=Wt(t,.08);a.G&&n.m(a.G);let s=n.k;const r=.5+s*a.X|0;s-=r*2;const i=new qt(n),l=0|s/4,f=0|r+s/2-l*2,o=0|r+s/2-l*2;function d(v,w,A,_,L){const et=O(e,A,1);let nt=_?O(e,_,1):0;n.L(c[m[v]]);for(let T=0;T<L.length;T++)i.u=new tt(f+L[T][0]*l,o+L[T][1]*l,l,nt++%4),w(et,i,l,T);n.M()}const u=O(e,-7)/268435455,c=Jt(u,a),m=[];let p;function S(v){if(v.indexOf(p)>=0){for(let w=0;w<v.length;w++)if(m.indexOf(v[w])>=0)return!0}}for(let v=0;v<3;v++)p=O(e,8+v,1)%c.length,(S([0,4])||S([2,3]))&&(p=1),m.push(p);d(0,W,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),d(1,W,4,5,[[0,0],[3,0],[3,3],[0,3]]),d(2,Kt,1,null,[[1,1],[2,1],[2,2],[1,2]]),n.finish()}function Xt(n){var a=0,s=0,r=encodeURI(n)+"%80",i=[],l,f=[],o=1732584193,d=4023233417,u=~o,c=~d,m=3285377520,p=[o,d,u,c,m],S=0,v="";function w(A,_){return A<<_|A>>>32-_}for(;a<r.length;s++)i[s>>2]=i[s>>2]|(r[a]=="%"?parseInt(r.substring(a+1,a+=3),16):r.charCodeAt(a++))<<(3-(s&3))*8;for(l=((s+7>>6)+1)*16,i[l-1]=s*8-8;S<l;S+=16){for(a=0;a<80;a++)s=w(o,5)+m+(a<20?(d&u^~d&c)+1518500249:a<40?(d^u^c)+1859775393:a<60?(d&u^d&c^u&c)+2400959708:(d^u^c)+3395469782)+(f[a]=a<16?i[S+a]|0:w(f[a-3]^f[a-8]^f[a-14]^f[a-16],1)),m=c,c=u,u=w(d,30),d=o,o=s;p[0]=o=p[0]+o|0,p[1]=d=p[1]+d|0,p[2]=u=p[2]+u|0,p[3]=c=p[3]+c|0,p[4]=m=p[4]+m|0}for(a=0;a<40;a++)v+=(p[a>>3]>>>(7-(a&7))*4&15).toString(16);return v}function Qt(n){return/^[0-9a-f]{11,}$/i.test(n)&&n}function te(n){return Xt(n==null?"":""+n)}typeof document<"u"&&document.querySelectorAll.bind(document);function b(n){return(n*10+.5|0)/10}class ee{constructor(){this.v=""}g(e){let t="";for(let a=0;a<e.length;a++)t+=(a?"L":"M")+b(e[a].x)+" "+b(e[a].y);this.v+=t+"Z"}h(e,t,a){const s=a?0:1,r=b(t/2),i=b(t),l="a"+r+","+r+" 0 1,"+s+" ";this.v+="M"+b(e.x)+" "+b(e.y+t/2)+l+i+",0"+l+-i+",0"}}class ne{constructor(e){this.A,this.B={},this.O=e,this.k=e.k}m(e){const t=/^(#......)(..)?/.exec(e),a=t[2]?O(t[2],0)/255:1;this.O.m(t[1],a)}L(e){this.A=this.B[e]||(this.B[e]=new ee)}M(){}g(e){this.A.g(e)}h(e,t,a){this.A.h(e,t,a)}finish(){const e=this.B;for(let t in e)e.hasOwnProperty(t)&&this.O.P(t,e[t].v)}}const ae={R:"http://www.w3.org/2000/svg"};class se{constructor(e){this.k=e,this.C='<svg xmlns="'+ae.R+'" width="'+e+'" height="'+e+'" viewBox="0 0 '+e+" "+e+'">'}m(e,t){t&&(this.C+='<rect width="100%" height="100%" fill="'+e+'" opacity="'+t.toFixed(2)+'"/>')}P(e,t){this.C+='<path fill="'+e+'" d="'+t+'"/>'}toString(){return this.C+"</svg>"}}function re(n,e,t){const a=new se(e);return zt(new ne(a),Qt(n)||te(n),t),a.toString()}const oe=at({__name:"AgentFormDialog",props:{show:{type:Boolean,required:!0}},emits:["update:show","save"],setup(n,{emit:e}){const t=y(null),a=n,s=y(!1),r=y({name:"",isPublic:!1}),i=e,l=G();M(s,u=>{i("update:show",u)}),M(()=>a.show,u=>{s.value=u,u||o()});const f=y([u=>!!u||"Name is required",u=>u&&u.length<=20||"Name must be 20 characters or less"]);function o(){var u;(u=t==null?void 0:t.value)==null||u.reset()}const d=async()=>{if(t.value){const{valid:u}=await t.value.validate();if(!u)return;const c=await l.post("/agents",r.value);s.value=!1,i("save",c)}};return(u,c)=>(D(),N(st,{modelValue:s.value,"onUpdate:modelValue":c[3]||(c[3]=m=>s.value=m),"max-width":"400"},{default:g(()=>[h(P,{rounded:"xl"},{default:g(()=>[h(q,{class:"text-h5 text-center"},{default:g(()=>c[4]||(c[4]=[C(" Create a new agent ")])),_:1}),h(rt,{class:"px-8 py-0"},{default:g(()=>[h(ot,{ref_key:"formRef",ref:t,onSubmit:it(d,["prevent"])},{default:g(()=>[h(ut,{class:"font-weight-regular"},{default:g(()=>c[5]||(c[5]=[C("Give your agent a name to easily identify it")])),_:1}),h(ft,{rules:f.value,modelValue:r.value.name,"onUpdate:modelValue":c[0]||(c[0]=m=>r.value.name=m),"hide-details":"auto",variant:"outlined",class:"mt-2",placeholder:"Enter your agent name"},null,8,["rules","modelValue"]),h(dt,{modelValue:r.value.isPublic,"onUpdate:modelValue":c[1]||(c[1]=m=>r.value.isPublic=m),label:"Make It Public",color:"primary",class:"mt-3"},null,8,["modelValue"])]),_:1},512)]),_:1}),h(ct,null,{default:g(()=>[h(lt),h(k,{class:"pa-2",color:"grey",variant:"text",onClick:c[2]||(c[2]=m=>s.value=!1)},{default:g(()=>c[6]||(c[6]=[C("Close")])),_:1}),h(k,{color:"primary",variant:"tonal",onClick:d},{default:g(()=>c[7]||(c[7]=[C("Let's Go")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ie=K(oe,[["__scopeId","data-v-6ba408fd"]]),ue={class:"text-h3 ma-0"},fe={class:"text-subtitle-1"},de={class:"d-flex justify-space-between py-2"},ce={__name:"AgentListPage",setup(n){const e=G(),t=y([]),a=y(!1),s=y({title:"Your Agents"}),r=o=>{const d=re(o,100);return`data:image/svg+xml;base64,${btoa(d)}`},i=async()=>{try{const o=await e.get("/agents");t.value=o}catch(o){console.error("Failed to fetch items:",o)}},l=async o=>{t.value.push(o)},f=o=>_t(Tt(o),"dd.MM.yyyy");return mt(i),(o,d)=>(D(),N(Ct,null,{default:g(()=>[h(Y,{align:"center",justify:"space-between",class:"mb-5"},{default:g(()=>[R("h3",ue,E(s.value.title),1),t.value.length>0?(D(),N(k,{key:0,color:"primary",variant:"elevated",onClick:d[0]||(d[0]=u=>a.value=!0)},{default:g(()=>d[3]||(d[3]=[C(" New Agent ")])),_:1})):pt("",!0)]),_:1}),t.value.length>0?(D(),N(Y,{key:0,justify:"start"},{default:g(()=>[(D(!0),gt(vt,null,ht(t.value,u=>(D(),N(Z,{key:u.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:g(()=>[h(P,{to:{name:"Chats",params:{id:u.id}},class:"mx-auto","prepend-avatar":r(u.id),"append-icon":x(yt),title:u.name,density:"compact"},{subtitle:g(()=>[R("span",fe,E(f(u.timing.createdAt)),1)]),default:g(()=>[h(Dt),R("div",de,[h(k,{"prepend-icon":u.public?x(St):x(bt),text:u.public?"Public":"Private",variant:"text"},null,8,["prepend-icon","text"])])]),_:2},1032,["to","prepend-avatar","append-icon","title"])]),_:2},1024))),128))]),_:1})):(D(),N(Z,{key:1,cols:"12"},{default:g(()=>[h(P,{class:"mx-auto text-center pa-5",variant:"text"},{default:g(()=>[h(q,null,{default:g(()=>d[4]||(d[4]=[C("No agents available")])),_:1}),h(wt,null,{default:g(()=>d[5]||(d[5]=[C("Please create an agent to get started.")])),_:1}),h(k,{color:"primary",onClick:d[1]||(d[1]=u=>a.value=!0),class:"mt-4"},{default:g(()=>d[6]||(d[6]=[C(" New Agent ")])),_:1})]),_:1})]),_:1})),h(ie,{show:a.value,"onUpdate:show":d[2]||(d[2]=u=>a.value=u),onSave:l},null,8,["show"])]),_:1}))}},we=K(ce,[["__scopeId","data-v-1a51ef15"]]);export{we as default};
