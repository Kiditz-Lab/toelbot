import{af as d,N as l,ao as o,ag as p,aJ as f}from"./index-B-4Jq8Ft.js";import{u as v}from"./useApi-Bby6fr-m.js";const t=v(),w=d("agentStore",()=>{const e=l(null),s=o(()=>t.loading),r=o(()=>t.error);async function u(){const a=p().params.id;e.value=await t.get(`/agents/${a}`)}async function i(n){if(!e.value)return;const a=await t.patch(`/agents/${e.value.id}/name`,n);e.value=a}async function c(n){if(!e.value)return;const a=await t.patch(`/agents/${e.value.id}/config`,n);e.value=a}async function g(){e.value&&(await t.del(`/agents/${e.value.id}`),f.replace("/agents"))}return{agent:e,loading:s,error:r,fetchAgent:u,updateAgentName:i,updateAgentConfig:c,deleteAgent:g}},{persist:{storage:sessionStorage,pick:["agent"]}});export{w as u};
