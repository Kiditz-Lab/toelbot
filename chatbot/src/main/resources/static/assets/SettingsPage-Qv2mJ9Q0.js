import{_ as I}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-ZkhCggGJ.js";import{D as Y}from"./DeleteDialog-DqafGwoF.js";import{_ as U}from"./UiParentCard.vue_vue_type_script_setup_true_lang-D2f-MrwW.js";import{y as M,N as d,O as A,P,c as j,o as k,w as a,a as e,Q as _,e as m,U as K,X as O,Y as z,f as y,B as C,Z as $,V as x,b as v,_ as B,d as g,$ as R,a0 as N,a1 as T,q as E,s as L,a2 as Q,a3 as W,a4 as X,a5 as Z,a6 as G,a7 as H,a8 as J,a9 as h,E as D,aa as ee,ab as ae}from"./index-B-4Jq8Ft.js";import{m as q}from"./mdi-CCnSVLV7.js";import{u as w}from"./agentStore-BHR6fR2_.js";import{u as le}from"./useApi-Bby6fr-m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const te=M({__name:"UpdateAgent",setup(S){const u=d(!1),{loading:b,agent:p}=A(w()),{updateAgentName:V}=w(),t=d({name:"",isPublic:!1});P(()=>p.value,f=>{f&&(t.value.name=f.name,t.value.isPublic=f.public)},{immediate:!0});const r=d(null),n=f=>!!f||"Name is required",c=async()=>{if(r.value){const{valid:f}=await r.value.validate();if(!f)return;await V(t.value),u.value=!0}};return(f,o)=>(k(),j(N,{ref_key:"formRef",ref:r,onSubmit:R(c,["prevent"])},{default:a(()=>[e(_,null,{default:a(()=>o[4]||(o[4]=[m("Enter your agent name")])),_:1}),e(K,{modelValue:t.value.name,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.name=s),"hide-details":"auto",variant:"outlined",class:"mt-2",placeholder:"Enter your agent name",rules:[n],onKeyup:O(c,["enter"])},null,8,["modelValue","rules"]),e(z,{modelValue:t.value.isPublic,"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.isPublic=s),label:"Make It Public",color:"primary",class:"mt-3"},null,8,["modelValue"]),e(y,{loading:C(b),type:"submit",color:"primary",class:"mt-3",variant:"tonal"},{default:a(()=>o[5]||(o[5]=[m("Save")])),_:1},8,["loading"]),e($,{modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=s=>u.value=s),timeout:"3000",color:"info",variant:"flat"},{actions:a(()=>[e(y,{color:"white",variant:"tonal",onClick:o[2]||(o[2]=s=>u.value=!1)},{default:a(()=>o[7]||(o[7]=[m("Close")])),_:1})]),default:a(()=>[e(x,{align:"center"},{default:a(()=>[e(v,{cols:"auto"},{default:a(()=>[e(B,{icon:C(q),color:"white"},null,8,["icon"])]),_:1}),e(v,null,{default:a(()=>o[6]||(o[6]=[g("span",{class:"headline"},"Success",-1),g("div",null,"Your changes are saved!",-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512))}}),oe=M({__name:"AgentConfig",setup(S){const{agent:u}=A(w()),{updateAgentConfig:b}=w(),p=d(!1),V=d(null),t=d({aiModel:"",prompt:"",temperature:0});P(()=>u.value,s=>{s&&(t.value.aiModel=s.config.aiModel,t.value.prompt=s.config.prompt,t.value.temperature=s.config.temperature)},{immediate:!0});const r=d(!1),n=d([]),c=le();T(async()=>{var l;const s=await c.get("/agents/models");if(n.value=s,!t.value.aiModel){const i=n.value.find(F=>F.version==="gpt-4o-mini");t.value.aiModel=i?i.value:((l=n.value[0])==null?void 0:l.value)||""}});const o=async()=>{if(V.value){r.value=!1,p.value=!0;const{valid:s}=await V.value.validate();if(!s)return;await b(t.value),p.value=!1,r.value=!0}};return(s,l)=>(k(),E(L,null,[e(N,{ref_key:"formRef",ref:V,onSubmit:R(o,["prevent"])},{default:a(()=>[e(U,{title:"Model"},{action:a(()=>[e(y,{color:"primary",variant:"tonal",type:"submit",loading:p.value},{default:a(()=>l[5]||(l[5]=[m(" Save ")])),_:1},8,["loading"])]),default:a(()=>[e(_,null,{default:a(()=>l[6]||(l[6]=[m("Model")])),_:1}),e(Q,{modelValue:t.value.aiModel,"onUpdate:modelValue":l[0]||(l[0]=i=>t.value.aiModel=i),items:n.value,"item-title":"name","item-value":"value",variant:"outlined",class:"mt-2"},null,8,["modelValue","items"]),e(_,null,{default:a(()=>l[7]||(l[7]=[m("Prompt")])),_:1}),e(W,{modelValue:t.value.prompt,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value.prompt=i),variant:"outlined",rows:"12","auto-grow":"",class:"mt-2"},null,8,["modelValue"]),e(_,null,{default:a(()=>l[8]||(l[8]=[m("Temperature")])),_:1}),e(X,{modelValue:t.value.temperature,"onUpdate:modelValue":l[2]||(l[2]=i=>t.value.temperature=i),modelModifiers:{number:!0},min:"0",max:"1","thumb-label":"",step:"0.1",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1},512),e($,{modelValue:r.value,"onUpdate:modelValue":l[4]||(l[4]=i=>r.value=i),timeout:"3000",color:"info",variant:"flat"},{actions:a(()=>[e(y,{color:"white",variant:"tonal",onClick:l[3]||(l[3]=i=>r.value=!1)},{default:a(()=>l[10]||(l[10]=[m("Close")])),_:1})]),default:a(()=>[e(x,{align:"center"},{default:a(()=>[e(v,{cols:"auto"},{default:a(()=>[e(B,{icon:C(q),color:"white"},null,8,["icon"])]),_:1}),e(v,null,{default:a(()=>l[9]||(l[9]=[g("span",{class:"headline"},"Success",-1),g("div",null,"Your changes are saved!",-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),ne={class:"d-sm-flex align-center justify-space-between"},pe=M({__name:"SettingsPage",setup(S){const u=d(!1),{deleteAgent:b,fetchAgent:p}=w(),V=d([{title:"Settings",disabled:!1,href:"#"}]),t=async()=>{u.value=!1,await b()};return T(p),(r,n)=>(k(),E("div",null,[e(I,{title:"Settings",breadcrumbs:V.value},null,8,["breadcrumbs"]),e(x,null,{default:a(()=>[e(v,{cols:"12",md:"8"},{default:a(()=>[e(oe)]),_:1}),e(v,{cols:"12",md:"4"},{default:a(()=>[e(x,null,{default:a(()=>[e(v,{cols:"12"},{default:a(()=>[e(U,{title:"Basic"},{default:a(()=>[e(te)]),_:1})]),_:1}),e(v,{cols:"12"},{default:a(()=>[e(Z,{variant:"outlined",elevation:"0",class:"bg-surface"},{default:a(()=>[e(G,{class:"py-3 px-5"},{default:a(()=>[g("div",ne,[e(H,{class:"text-h5",style:{"line-height":"1.57"}},{default:a(()=>[e(J,{size:"35",color:"error"},{default:a(()=>[e(C(h))]),_:1}),n[2]||(n[2]=g("span",{class:"mx-2"},"Delete Agent",-1))]),_:1})])]),_:1}),e(D),e(ee,null,{default:a(()=>n[3]||(n[3]=[m(" Deleting agent is a permanent action that cannot be reversed. Deleting the agent will delete all documents indexed against it and all history. ")])),_:1}),e(D),e(ae,{class:"justify-end"},{default:a(()=>[e(y,{onClick:n[0]||(n[0]=c=>u.value=!0),color:"error",text:"Delete",variant:"tonal"},{default:a(()=>n[4]||(n[4]=[m("Delete")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,{show:u.value,"onUpdate:show":n[1]||(n[1]=c=>u.value=c),title:"Warning!",message:"Are you sure you want to delete the bot?",onConfirm:t},null,8,["show"])]))}});export{pe as default};
